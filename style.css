:root{
  --bg:#0f1115; --panel:#111318; --text:#e9ecf1; --muted:#a9b0bb;
  --accent:#8a5cff; --stroke:#1b1f27; --chip:#171a21;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;height:100%;background:var(--bg);color:var(--text);font:14px/1.45 system-ui,Segoe UI,Inter,Arial}
a{color:inherit;text-decoration:none}

/* SHELL */
.gpt-shell{display:grid;grid-template-columns:280px 1fr; height:100vh; overflow:hidden}
@media (max-width: 900px){ .gpt-shell{grid-template-columns:1fr} }

/* SIDEBAR */
.gpt-sidebar{
  background:#0c0f14;border-right:1px solid var(--stroke);padding:12px;display:flex;flex-direction:column;gap:10px;min-width:0
}
.gpt-sidebar .new-chat{background:#10141c;border:1px solid var(--stroke);padding:10px;border-radius:10px;text-align:center;cursor:pointer}
.gpt-nav{display:flex;flex-direction:column;gap:8px;overflow:auto}
.gpt-item{display:flex;gap:8px;align-items:center;padding:10px;border-radius:10px;color:var(--muted);border:1px solid transparent;cursor:pointer}
.gpt-item.active,.gpt-item:hover{background:var(--chip);border-color:var(--stroke);color:var(--text)}
.gpt-spacer{flex:1}
.gpt-footer{display:flex;flex-direction:column;gap:8px}
.tiny{font-size:.85rem;color:var(--muted)}

/* MAIN */
.gpt-main{display:flex;flex-direction:column;height:100%}
.gpt-topbar{
  height:56px;background:var(--panel);border-bottom:1px solid var(--stroke);
  display:flex;align-items:center;justify-content:space-between;padding:0 14px;position:sticky;top:0;z-index:5
}
.gpt-title{font-weight:700}
.gpt-actions{display:flex;gap:8px}
.btn{background:#131827;border:1px solid var(--stroke);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
.btn.primary{background:var(--accent);border-color:#6e3dff}
.btn.ghost{background:transparent}

/* SCROLL AREA */
.gpt-scroll{flex:1;overflow:auto;padding:18px;scroll-behavior:smooth}

/* PANELS */
.panel{max-width:820px;margin:0 auto 12px;background:#0e1218;border:1px solid var(--stroke);border-radius:12px;padding:12px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.muted{color:var(--muted)}
.input{flex:1;min-width:180px;background:#0e121a;border:1px solid var(--stroke);color:var(--text);padding:10px;border-radius:10px}

/* MESSAGES */
.msg{max-width:820px;margin:0 auto 14px;display:flex;gap:12px}
.msg .avatar{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,var(--accent),#2b2b5a)}
.msg.user .avatar{background:linear-gradient(135deg,#2d8cff,#1a4bff)}
.msg .bubble{background:#121620;border:1px solid var(--stroke);padding:12px 14px;border-radius:12px;flex:1}
.msg.assistant .bubble{background:#10141c}

/* COMPOSER */
.composer-wrap{
  position:sticky;bottom:0;background:linear-gradient(180deg,transparent,rgba(15,17,21,.85) 30%, rgba(15,17,21,1));
  padding:12px 14px;border-top:1px solid var(--stroke)
}
.composer{
  max-width:820px;margin:0 auto;display:flex;gap:8px;background:#0e121a;border:1px solid var(--stroke);
  padding:10px;border-radius:12px;align-items:center
}
.composer input{flex:1;background:transparent;border:none;outline:none;color:var(--text);font-size:1rem}

/* SETTINGS DRAWER */
.zf-drawer{position:fixed;inset:0 0 0 auto;width:360px;background:#0c0f14;border-left:1px solid var(--stroke);
  transform:translateX(100%);transition:.25s;z-index:60;display:flex;flex-direction:column}
.zf-drawer-head{padding:14px 16px;border-bottom:1px solid var(--stroke);display:flex;justify-content:space-between;align-items:center}
.zf-drawer-body{padding:14px 16px;overflow:auto;display:flex;flex-direction:column;gap:14px}

/* VOICE EQ (optional) */
.eq{display:flex;gap:4px;margin-top:8px;height:16px;align-items:flex-end}
.eq span{width:6px;height:6px;background:var(--accent);border-radius:2px;transform-origin:bottom center;opacity:.8}
body.zf-listening .eq span:nth-child(1){animation:bars 700ms ease-in-out infinite}
body.zf-listening .eq span:nth-child(2){animation:bars 680ms ease-in-out infinite}
body.zf-listening .eq span:nth-child(3){animation:bars 720ms ease-in-out infinite}
body.zf-listening .eq span:nth-child(4){animation:bars 650ms ease-in-out infinite}
body.zf-listening .eq span:nth-child(5){animation:bars 760ms ease-in-out infinite}
@keyframes bars{0%,100%{height:6px}50%{height:16px}}
