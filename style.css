/* ===== ZoulForge Polished v2 ===== */
:root{
  --bg:#0e1015; --panel:#11141b; --panel-2:#0d1016;
  --text:#ebeff6; --muted:#a7b0bd; --accent:#8a5cff; --accent-2:#5e39ff;
  --stroke:#1a1f28; --chip:#171b22;
  --r:14px; --r-lg:18px;
  --shadow:0 10px 30px rgba(0,0,0,.35);
}
*{ box-sizing:border-box }
html,body{ height:100%; margin:0; padding:0; background:var(--bg); color:var(--text); font:14px/1.5 Inter, system-ui, Segoe UI, Arial }

/* ===== App Shell (ChatGPT-like) ===== */
.gpt-shell{
  display:grid; grid-template-columns:280px 1fr; height:100dvh; width:100vw; overflow:hidden;
}
@media (max-width: 900px){ .gpt-shell{ grid-template-columns:1fr } }

.gpt-sidebar{
  background:var(--panel-2);
  border-right:1px solid var(--stroke);
  padding:12px; display:flex; flex-direction:column; gap:12px;
}
.new-chat{
  background:linear-gradient(180deg,#121622,#0e121b);
  border:1px solid var(--stroke); border-radius:var(--r);
  padding:10px 12px; text-align:center; cursor:pointer;
  box-shadow: var(--shadow);
}
.gpt-nav{ display:flex; flex-direction:column; gap:8px; overflow:auto; padding-right:2px }
.gpt-item{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px; border-radius:var(--r);
  color:var(--muted); border:1px solid transparent; cursor:pointer;
  background:transparent; transition:.15s;
}
.gpt-item:hover{ background:var(--chip); border-color:var(--stroke); color:var(--text) }
.gpt-item.active{ background:linear-gradient(180deg,#171c25,#141924); color:#fff; border-color:#252c39 }
.gpt-spacer{ flex:1 }
.gpt-footer{ display:flex; flex-direction:column; gap:8px }

.btn{
  background:#141825; border:1px solid var(--stroke); color:var(--text);
  padding:8px 12px; border-radius:var(--r); cursor:pointer;
}
.btn.primary{ background:linear-gradient(180deg,var(--accent),var(--accent-2)); border-color:#5536ff }
.btn:disabled{ opacity:.55; cursor:not-allowed }
.input{
  background:#0f1320; border:1px solid var(--stroke); color:var(--text);
  padding:10px 12px; border-radius:var(--r); min-width:200px;
}
.row{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.tiny{ font-size:.85rem; color:var(--muted) }

/* MAIN */
.gpt-main{ display:flex; flex-direction:column; min-width:0 }
.gpt-topbar{
  height:56px; background:var(--panel); border-bottom:1px solid var(--stroke);
  display:flex; align-items:center; justify-content:space-between; padding:0 14px; position:sticky; top:0; z-index:5;
}
.gpt-title{ font-weight:700 }
.gpt-actions{ display:flex; gap:8px }

.gpt-scroll{
  flex:1; overflow:auto; padding:20px 18px 24px; scroll-behavior:smooth;
}

/* CARDS */
.panel{
  max-width:980px; margin:0 auto 14px; background:linear-gradient(180deg,#0f1320,#0c1019);
  border:1px solid var(--stroke); border-radius:var(--r-lg); padding:14px;
  box-shadow: var(--shadow);
}
.muted{ color:var(--muted) }

/* MESSAGES */
.msg{ max-width:980px; margin:0 auto 14px; display:flex; gap:12px }
.msg .avatar{ width:28px; height:28px; border-radius:8px; background:linear-gradient(135deg,var(--accent),#2b2b5a) }
.msg.user .avatar{ background:linear-gradient(135deg,#2d8cff,#1a4bff) }
.msg .bubble{
  background:#111727; border:1px solid var(--stroke); padding:12px 14px; border-radius:var(--r);
  flex:1;
}
.msg.assistant .bubble{ background:#0f1524 }

/* COMPOSER */
.composer-wrap{
  position:sticky; bottom:0; padding:12px 14px;
  background:linear-gradient(180deg,transparent,rgba(14,16,21,.85) 40%, rgba(14,16,21,1));
  border-top:1px solid var(--stroke);
}
.composer{
  max-width:980px; margin:0 auto; display:flex; gap:10px;
  background:#0f1320; border:1px solid var(--stroke); padding:10px; border-radius:var(--r-lg);
  align-items:center; box-shadow: var(--shadow);
}
.composer input{ flex:1; background:transparent; border:none; outline:none; color:var(--text); font-size:1rem }

/* SETTINGS DRAWER */
.zf-drawer{
  position:fixed; inset:0 0 0 auto; width:360px; max-width:92vw;
  background:#0c0f14; border-left:1px solid var(--stroke);
  transform:translateX(100%); transition:transform .25s ease; z-index:80;
  display:flex; flex-direction:column; border-top-left-radius:var(--r-lg); border-bottom-left-radius:var(--r-lg);
  box-shadow: var(--shadow);
}
.zf-drawer-head{ height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 14px; border-bottom:1px solid var(--stroke); background:var(--panel) }
.zf-drawer-body{ padding:14px; overflow:auto; display:flex; flex-direction:column; gap:12px }

/* BURGER MENU (left) */
#burgerMenu{ position:fixed; inset:0; z-index:90; pointer-events:none }
#burgerMenu.open{ pointer-events:auto }
.bm-overlay{ position:absolute; inset:0; background:rgba(0,0,0,.45); opacity:0; transition:opacity .2s }
#burgerMenu.open .bm-overlay{ opacity:1 }
.bm-panel{
  position:absolute; top:0; left:0; height:100%; width:320px; max-width:88vw;
  background:#0c0f14; border-right:1px solid var(--stroke); transform:translateX(-100%); transition:transform .25s;
  display:flex; flex-direction:column; border-top-right-radius:var(--r-lg); border-bottom-right-radius:var(--r-lg);
  box-shadow: var(--shadow);
}
#burgerMenu.open .bm-panel{ transform:translateX(0) }
.bm-head{ height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 14px; border-bottom:1px solid var(--stroke); background:var(--panel) }
.bm-list{ padding:10px; display:flex; flex-direction:column; gap:8px; overflow:auto }
.bm-item{
  display:flex; align-items:center; gap:10px; padding:10px 12px; border-radius:var(--r);
  color:var(--muted); border:1px solid transparent; cursor:pointer;
}
.bm-item:hover{ background:var(--chip); border-color:var(--stroke); color:var(--text) }
.bm-item.active{ background:linear-gradient(180deg,#171c25,#141924); color:#fff; border-color:#252c39 }
.bm-footer{ margin-top:auto; padding:10px; border-top:1px solid var(--stroke); display:flex; flex-direction:column; gap:8px }

/* VOICE EQ */
.eq{ display:flex; gap:4px; margin-top:8px; height:16px; align-items:flex-end }
.eq span{ width:6px; height:6px; background:var(--accent); border-radius:3px; transform-origin:bottom center; opacity:.85 }
body.zf-listening .eq span:nth-child(1){ animation:bars 700ms ease-in-out infinite }
body.zf-listening .eq span:nth-child(2){ animation:bars 680ms ease-in-out infinite }
body.zf-listening .eq span:nth-child(3){ animation:bars 720ms ease-in-out infinite }
body.zf-listening .eq span:nth-child(4){ animation:bars 650ms ease-in-out infinite }
body.zf-listening .eq span:nth-child(5){ animation:bars 760ms ease-in-out infinite }
@keyframes bars{ 0%,100%{height:6px} 50%{height:16px} }
